(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[390],{92559:function(e,t,n){Promise.resolve().then(n.bind(n,92598))},92598:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var i=n(57437),r=n(2265);let a=(0,n(26018).A)(function(e){return r.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.99999C10.5 2.12432 5.75193 2.0557 3.40383 4.4038C0.865423 6.94221 0.999999 10.5 3.50001 14C5.52139 16.8299 9.83088 20.3136 11.4069 21.5438C11.7573 21.8172 12.2427 21.8172 12.5931 21.5438C14.1691 20.3136 18.4786 16.8299 20.5 14C23 10.5 23.1346 6.94221 20.5962 4.4038C18.2481 2.0557 14.5 2.12432 12 5.99999Z",fill:"currentColor"}))},"like_heart");var l=n(23533),d=n(44900),s=n(32902),o=n(7893),c=n(95530),u=n(79225);async function h(e){return await (0,u.U)("shortLinkView/list",e)}async function x(e){return await (0,u.v)("shortLinkView/remove",e)}var w=n(15578),v=()=>{let e=[{title:"广告标题",dataIndex:"project_id",width:150,render:(e,t)=>{var n;return"".concat(null==t?void 0:null===(n=t.project)||void 0===n?void 0:n.title)}},{title:"短链",search:!0,width:120,dataIndex:"short_link",render:(e,t)=>{var n,r;return(0,i.jsx)("a",{target:"_blank",href:null==t?void 0:null===(n=t.short_link)||void 0===n?void 0:n.url,children:null==t?void 0:null===(r=t.short_link)||void 0===r?void 0:r.url})}},{title:"点击来源",width:120,dataIndex:"from_url",search:!0,render:e=>(0,i.jsx)("a",{target:"_blank",href:e,children:e})},{title:"类型",width:80,dataIndex:"type",render:e=>{let t={1:{color:"pink",prefixIcon:(0,i.jsx)(a,{}),text:"点击"},0:{color:"cyan",prefixIcon:(0,i.jsx)(l.Z,{}),text:"展示"}}[e]||{};return(0,i.jsx)(s.Vp,{shape:"circle",...t,style:{userSelect:"text"},children:t.text})}},{title:"User-Agent",dataIndex:"user_agent",ellipsis:!0,width:150,render:e=>(0,i.jsx)(s.Sx.Text,{ellipsis:{showTooltip:!0},children:e})},{title:"所有者",dataIndex:"user_id",width:80,render:(e,t)=>{var n;return(0,i.jsx)(s.qE,{size:"small",color:"red",style:{marginRight:4},children:(null==t?void 0:null===(n=t.user)||void 0===n?void 0:n.name)||"-"})}},{title:"操作时间",width:120,type:"dateTimeRange",search:!0,dataIndex:"from_time_at",render:e=>o.Z(new Date(e),"yyyy-MM-dd HH:mm:ss")},{title:"创建日期",width:120,type:"dateRange",search:!1,dataIndex:"created_at",render:e=>o.Z(new Date(e),"yyyy-MM-dd")},{title:"操作",width:60,dataIndex:"id",render:(e,t)=>(0,i.jsx)(s.T,{children:(0,i.jsx)(s.gn,{title:"确认删除吗？",onConfirm:async()=>await I(e),position:"leftBottom",children:(0,i.jsx)("div",{children:(0,i.jsx)(s.zx,{type:"danger",icon:(0,i.jsx)(d.Z,{}),"aria-label":"删除"})})})})}],t=async e=>await h(e),[n,u]=(0,r.useState)([]),[v,f]=(0,r.useState)(!1),[g,p]=(0,r.useState)(1),[m,y]=(0,r.useState)(0),[_,j]=(0,r.useState)({}),k=async e=>{f(!0),p(e.page||1),j(e);let n=await t(e);y(n.total),u(n.data),f(!1)},C=e=>{_.page=e,k(_)},I=async e=>{let t=await x({id:e});0===t.code?(s.FN.success(t.msg),C(g)):s.FN.error(t.msg)};return(0,r.useEffect)(()=>{k({})},[]),(0,i.jsxs)(c.Z,{children:[(0,i.jsx)(w.Z,{fields:e,onSubmit:e=>{e.page=1,console.log(e),k(e)}}),(0,i.jsx)(s.iA,{columns:e,dataSource:n,pagination:{currentPage:g,pageSize:10,total:m,onPageChange:C},loading:v})]})}}},function(e){e.O(0,[293,990,966,311,146,971,23,744],function(){return e(e.s=92559)}),_N_E=e.O()}]);
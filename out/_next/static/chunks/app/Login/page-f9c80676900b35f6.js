(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[484],{7320:function(e,t,n){"use strict";var i,o=n(4410);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(null,arguments)}t.Z=function(e){return o.createElement("svg",l({xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",className:"logo_svg__icon",viewBox:"0 0 1024 1024"},e),i||(i=o.createElement("path",{fill:"#333",d:"M938.667 313.643v220.245a85.333 85.333 0 0 1-86.187 85.333l-55.723-.554L585.6 318.613a85.33 85.33 0 0 0-105.195-28.522L384 334.059a54.6 54.6 0 0 1-33.28 3.882c-49.067-9.749-65.557-26.709-49.408-50.944 15.637-23.466 82.176-70.634 199.659-141.589 3.072-1.877 6.25-3.477 9.514-4.757 49.344-22.955 105.643-14.678 168.896 24.853 29.056 18.197 93.995 40 194.774 65.387a85.33 85.33 0 0 1 64.512 82.752M85.333 566.699V320a85.333 85.333 0 0 1 85.334-85.333h109.098c-5.205 5.162-12.416 12.224-21.589 21.184-13.781 13.44-18.176 23.808-17.621 44.053a68.82 68.82 0 0 0 26.005 51.904 146.48 146.48 0 0 0 140.821 23.147l60.032-21.632a85.33 85.33 0 0 1 98.88 31.402l170.432 243.968a85.333 85.333 0 0 1-26.368 122.24L511.467 869.12a54.3 54.3 0 0 1-34.56 4.48l8.81-8.832a105.856 105.856 0 0 0 0-150.059l-172.8-172.821a81.5 81.5 0 0 0-57.642-23.787 81.5 81.5 0 0 0-57.622 23.766L122.197 617.3A53.44 53.44 0 0 1 85.333 566.7m206.208 27.669 153.28 153.237c13.44 13.44 18.688 32.939 13.76 51.2l-7.722 28.907a41.34 41.34 0 0 1-26.411 28.267 42.05 42.05 0 0 1-38.507-5.675L188.864 707.072a53.013 53.013 0 0 1-6.4-80.512l32.213-32.235a54.34 54.34 0 0 1 38.4-15.85c14.464 0 28.288 5.696 38.443 15.85v.043z"})))}},45142:function(e,t,n){Promise.resolve().then(n.bind(n,93493))},93493:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var i=n(57437),o=n(32902),l=n(2265),a=n(79225);async function r(e){return await (0,a.U)("auth/qrcode",e)}async function s(e){return await (0,a.v)("auth/login",e)}var c=n(66648),d=n(16463);n(44638);var u=n(7320),p=()=>{let[e,t]=(0,l.useState)({img:"",key:""}),[n,a]=(0,l.useState)(),[p,h]=(0,l.useState)(!1),g=(0,d.useRouter)(),f=async()=>{let e=await r({});0===e.code&&t(e.data)},y=async()=>{if(!(null==n?void 0:n.getValue("mobile")))return o.FN.error("手机号不能为空");if(!/^1\d{10}$/.test(n.getValue("mobile")))return o.FN.error("手机号不正确");if(!(null==n?void 0:n.getValue("password")))return o.FN.error("密码不能为空");if(!(null==n?void 0:n.getValue("qrcode")))return o.FN.error("验证码不能为空");if(!(null==n?void 0:n.getValue("agree")))return o.FN.error("请先同意协议");h(!0);let t=await s({...null==n?void 0:n.getValues(),key:e.key});console.log(t),0===t.code?(localStorage.setItem("access_token",t.data.token_type+" "+t.data.access_token),g.push("/Home")):o.FN.error(t.msg),h(!1)};return(0,l.useEffect)(()=>{f()},[]),(0,i.jsxs)("div",{style:{position:"relative",height:"100%",overflow:"hidden"},children:[(0,i.jsx)("div",{style:{position:"absolute",left:0,top:0,width:"100%",backgroundColor:"rgba(243, 243, 243, 0.8)"},children:(0,i.jsxs)("div",{style:{display:"flex",justifyContent:"center",padding:"12px 24px",width:"260px"},children:[(0,i.jsx)("div",{children:(0,i.jsx)(u.Z,{style:{fontSize:36}})}),(0,i.jsxs)("div",{style:{paddingTop:"0px",fontSize:"24px"},children:["壹择短链","平台"]})]})}),(0,i.jsx)("div",{style:{position:"absolute",top:0,right:0,width:"100%",height:"100%"},children:(0,i.jsxs)("div",{style:{backgroundColor:"#FFFFFF",width:"400px",height:"360px",margin:"auto",marginTop:"13%",padding:"24px",border:"solid 12px #F3F3F3",borderRadius:"12px"},children:[(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,i.jsx)("div",{style:{paddingTop:"0px",fontSize:"20px"},children:"账号登录"})}),(0,i.jsxs)(o.l0,{labelPosition:"left",getFormApi:e=>{a(e)},labelAlign:"left",style:{padding:"10px",width:332},children:[(0,i.jsx)(o.l0.Input,{field:"mobile",placeholder:"手机号",noLabel:!0,trigger:"blur",style:{width:312}}),(0,i.jsx)(o.l0.Input,{field:"password",type:"password",placeholder:"密码",noLabel:!0,style:{width:312},trigger:"blur"}),(0,i.jsxs)("div",{style:{display:"flex"},children:[(0,i.jsx)(o.l0.Input,{field:"qrcode",placeholder:"验证码",noLabel:!0,trigger:"blur",style:{width:212}}),e.img?(0,i.jsx)(c.default,{title:"点击更换",onClick:async()=>await f(),alt:"验证码",width:88,height:42,style:{marginLeft:"12px",height:"42px",width:"88px",paddingTop:"12px"},src:e.img}):null]}),(0,i.jsx)(o.zx,{theme:"outline",loading:p,onClick:y,style:{width:312},type:"primary",children:"登录"}),(0,i.jsx)(o.l0.Checkbox,{field:"agree",style:{fontSize:"12px",color:"#EEEEEE"},noLabel:!0,children:"同意我们的《用户协议》和《隐私政策》"})]})]})})]})}},79225:function(e,t,n){"use strict";n.d(t,{U:function(){return o},v:function(){return l}});var i=n(32902);async function o(e,t){let n="";if(t){for(let e in t)n+="&"+e+"="+t[e];n="?"+n.substring(1)}let o={"Content-Type":"application/json",Accept:"application/json"};localStorage.getItem("access_token")&&(o.Authorization=localStorage.getItem("access_token"));let l=await fetch("https://crm.yizetech.com.cn/api/"+e+n,{method:"GET",headers:o}),a=l.json();return 429===l.status?i.P_.open({title:"系统通知",content:"频率限制，请稍后再试"}):401===l.status?window.location.href="/Login":200!==l.status&&i.P_.open({title:"系统通知",content:"接口异常"}),a}async function l(e,t){let n={"Content-Type":"application/json",Accept:"application/json"};localStorage.getItem("access_token")&&(n.Authorization=localStorage.getItem("access_token"));let o=await fetch("https://crm.yizetech.com.cn/api/"+e,{method:"POST",headers:n,body:JSON.stringify({...t})}),l=await o.json();return 429===o.status?i.P_.open({title:"系统通知",content:"频率限制，请稍后再试"}):401===o.status?window.location.href="/Login":200!==o.status&&i.P_.open({title:"系统通知",content:"接口异常"}),l}},44638:function(){}},function(e){e.O(0,[914,804,648,971,23,744],function(){return e(e.s=45142)}),_N_E=e.O()}]);